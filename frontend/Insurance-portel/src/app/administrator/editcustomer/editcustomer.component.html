<app-adminator-login></app-adminator-login>
<div class="container">
<form #editForm="ngForm" (ngSubmit)= " editForm.valid && editDetails(editForm.value) " name="editForm" novalidate>
<div class="persondetails" *ngIf="personalDetails">
<h3>Personal Details</h3>
<hr>
<div class="form-group">

    <input type="hidden" class="form-control" name="customerId" [(ngModel)]="this.customerData.customerId" #customerId="ngModel" readonly> 
</div>
<div class="form-group">
        <label>Customer Name :</label>	
         <input type="text" class="form-control" name="customerName" [(ngModel)]="this.customerData.customerName" pattern="[a-zA-Z ]+"  required #customerName="ngModel"> 
         <div style="color:red" 
         *ngIf="customerName.errors && (customerName.dirty || editForm.submitted)">
         <small *ngIf="customerName.errors.required"> The name is required </small>
         <small *ngIf="customerName.errors.pattern"> Address does not contain special characters and number</small>
        </div>
        </div>
<div class="form-group">
<label>Occupation :</label>
     <input type="text" class="form-control" name="occupation" [(ngModel)]="this.customerData.occupation" required pattern="[a-zA-Z ]+" #occupation="ngModel">
     <div style="color:red" 
     *ngIf="occupation.errors && (occupation.dirty || editForm.submitted)">
     <small *ngIf="occupation.errors.required"> The occupation is required </small>
     <small *ngIf="occupation.errors.pattern"> Occupation does not contain special characters and number</small>
 </div>
    </div>
<div class="form-group">
<label>Gender :  </label>
     <input type="text" class="form-control" name="gender" [(ngModel)]="this.customerData.gender" #gender="ngModel" disabled>
</div>
<div class="form-group">		
<label>PAN :</label>
     <input type="text" class="form-control" name="pan" [(ngModel)]="this.customerData.pan" #pan="ngModel" disabled>
</div>
<div class="form-group">
<label>Nationality : </label>
     <input type="text" class="form-control" name="nationality" [(ngModel)]="this.customerData.nationality" #nationality="ngModel" disabled>
</div>
<div class="form-group">
<label>Annual Income : </label>	
    <input type="text" class="form-control" name="annualIncome" [(ngModel)]="this.customerData.annualIncome" pattern="(0\.((0[1-9]{1})|([1-9]{1}([0-9]{1})?)))|(([1-9]+[0-9]*)(\.([0-9]{1,2}))?)"  required  #annualIncome="ngModel">
    <div style="color:red" 
    *ngIf="annualIncome.errors && (annualIncome.dirty || editForm.submitted)">
    <small *ngIf="annualIncome.errors.required"> The annualIncome is required </small>
    <small *ngIf="annualIncome.errors.pattern"> The annualIncome should be number and greater then 0 </small>
   
</div>
</div>
<div class="form-group">
<label>Marital Status :</label>	
     <!-- <input type="text" class="form-control" name="maritalStatus" [(ngModel)]="this.customerData.maritalStatus" #maritalStatus="ngModel" > -->
     <select  class="selectbox form-control" name ="maritalStatus" required  [(ngModel)]="this.customerData.maritalStatus" #maritalStatus="ngModel">
            <option  selected disabled>Please select your  marital status</option>
            <option>Married</option>
            <option>Unmarried</option>
           
        </select>
        <div style="color:red" 
        *ngIf="maritalStatus.errors && (maritalStatus.dirty || editForm.submitted)">
        <small *ngIf="maritalStatus.errors.required"> The maritalStatus is required </small>
    </div>
</div>
<div class="form-group">
<label>Date Of Birth :</label>
     <input type="text" class="form-control" name="dob" [(ngModel)]="this.customerData.dob" #dob="ngModel" disabled>
</div>
</div>
<br>
<div class ="contactdetails" *ngIf="contactDetails">
<h3>Contact Details</h3>
<hr>
<fieldset ngModelGroup="customerAddress">
<div class="form-group">
<label>Address : </label>
    <input type="text" class="form-control" name="address"   [(ngModel)]="this.customerData.customerAddress.address" pattern="^[^<>@~`%$]*$" required  #address="ngModel">
    <div style="color:red" 
    *ngIf="address.errors && (address.dirty || editForm.submitted)">
    <small *ngIf="address.errors.required"> The address is required </small>
    <small *ngIf="address.errors.pattern">Address does not contain special characters</small>

</div>
</div>
<div class="form-group">
    <label>City : </label>
        <input type="text" class="form-control" name="city"  [(ngModel)]="this.customerData.customerAddress.city" pattern="[a-zA-Z ]+" required #city="ngModel">
        <div style="color:red" 
        *ngIf="city.errors && (city.dirty || editForm.submitted)">
        <small *ngIf="city.errors.required"> The city is required </small>
        <small *ngIf="city.errors.pattern"> City does not contain special characters and number</small>
    </div>
    </div>
    <div class="form-group">
        <label>State : </label>
            <input type="text" class="form-control" name="state"   [(ngModel)]="this.customerData.customerAddress.state" required pattern="[a-zA-Z ]+"  #state="ngModel">
       
            <div style="color:red" 
            *ngIf="state.errors && (state.dirty || editForm.submitted)">
            <small *ngIf="state.errors.required"> The state is required </small>
            <small *ngIf="state.errors.pattern"> State does not contain special characters and number</small>
        </div>
        </div>
        <div class="form-group">
            <label>PinCode : </label>
                <input type="text" class="form-control" name="pinCode"  [(ngModel)]="this.customerData.customerAddress.pinCode"  pattern= "^[1-9][0-9]{5}$" required  #pincode="ngModel">
                
                <div style="color:red" 
                *ngIf="pincode.errors && (pincode.dirty || editForm.submitted)">
                <small *ngIf="pincode.errors.required"> The Pincode is required </small>
                <small *ngIf="pincode.errors.pattern">Pincode should be a number and max 6 digite</small>
            
            </div>
           
           
            </div>

        </fieldset>
    <div class="form-group" *ngIf="this.customerData.phone==0">
<label>Alternate Number :  </label>	    
    <input type="text" class="form-control" name="phone" ngModel value="" pattern="^[6789]\d{9}$"  #phoneNo="ngModel">

    <div style="color:red" 
    *ngIf="phoneNo.errors && (phoneNo.dirty || updateform.submitted)">
    
    <small *ngIf="phoneNo.errors.pattern"> not a valid Alternate number</small>
   
</div>
</div>
<div class="form-group"  *ngIf="this.customerData.phone!=0">
        <label>Alternate Number :  </label>	    
            <input type="text" class="form-control" name="phone" [(ngModel)]="this.customerData.phone" pattern="^[6789]\d{9}$"  #phoneNo="ngModel">
            <div style="color:red" 
            *ngIf="phoneNo.errors && (phoneNo.dirty || updateform.submitted)">
            
            <small *ngIf="phoneNo.errors.pattern"> not a valid Alternate number</small>
           
        </div>
        </div>
    <div class="form-group">
<label>Mobile Number : </label>
    <input type="text" class="form-control" name="mobileNo" [(ngModel)]="this.customerData.mobileNo" pattern="^[6789]\d{9}$"  required #mobileNo="ngModel" >
    <div style="color:red" 
    *ngIf="mobileNo.errors && (mobileNo.dirty || editForm.submitted)">
    <small *ngIf="mobileNo.errors.required"> The mobileNo is required </small>
    <small *ngIf="mobileNo.errors.pattern"> not a valid mobileNo </small>
   
</div>
</div>
    <div class="form-group">
<label>Email Id :</label>
     <input type="text" class="form-control" name="emailId" [(ngModel)]="this.customerData.emailId" #emailId="ngModel" readonly>	
    </div>
</div>

<br>

<div *ngIf="insuranceList">
<h3>Insurance Details</h3>
<hr>

        <table>

                <tr>
                <th>Insurance Id</th>
                <th>Insurance Type</th>
                <th>Insurance Category </th>
                <th>Coverage Period</th>
                <th>Amount</th>
                <th>Nominee</th>
                <th>Nominee Relation</th>
            </tr>
            <tr class="Insurancedetails" *ngFor="let insurance of insuranceDetail">
               <td>{{insurance.insuranceId}}</td>
               <td>{{insurance.insuranceType}}</td>
               <td>{{insurance.insuranceCategory}}</td>
               <td>{{insurance.coveragePeriod}}</td>
               <td>{{insurance.amount}}</td>
               <td>{{insurance.nominee}}</td>
               <td>{{insurance.nomineeRelation}}</td>
            </tr>       
     
            </table>


<br>
<div>

</div>
</div>
<button class='btn' type="submit">Update Details</button>
</form>
</div>
